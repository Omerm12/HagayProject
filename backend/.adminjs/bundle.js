(function (React) {
  'use strict';

  function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

  var React__default = /*#__PURE__*/_interopDefault(React);

  const UploadImage = props => {
    const {
      record,
      onChange,
      property
    } = props;
    const handleUpload = async event => {
      const file = event.target.files[0];
      if (!file) return;
      const formData = new FormData();
      formData.append('image', file);
      const res = await fetch('/admin/upload-image', {
        method: 'POST',
        body: formData
      });
      const data = await res.json();
      if (data.url) {
        onChange(property.name, data.url);
      }
    };
    return /*#__PURE__*/React__default.default.createElement("div", null, /*#__PURE__*/React__default.default.createElement("input", {
      type: "file",
      onChange: handleUpload
    }), record.params[property.name] && /*#__PURE__*/React__default.default.createElement("img", {
      src: record.params[property.name],
      alt: "\u05EA\u05E6\u05D5\u05D2\u05D4",
      width: 120
    }));
  };

  AdminJS.UserComponents = {};
  AdminJS.UserComponents.UploadImageComponent = UploadImage;

})(React);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9jb21wb25lbnRzL1VwbG9hZEltYWdlLmpzeCIsImVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEJhc2VQcm9wZXJ0eVByb3BzIH0gZnJvbSAnYWRtaW5qcyc7XHJcblxyXG5jb25zdCBVcGxvYWRJbWFnZSA9IChwcm9wcykgPT4ge1xyXG4gIGNvbnN0IHsgcmVjb3JkLCBvbkNoYW5nZSwgcHJvcGVydHkgfSA9IHByb3BzO1xyXG5cclxuICBjb25zdCBoYW5kbGVVcGxvYWQgPSBhc3luYyAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07XHJcbiAgICBpZiAoIWZpbGUpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsIGZpbGUpO1xyXG5cclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYWRtaW4vdXBsb2FkLWltYWdlJywge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogZm9ybURhdGEsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgIGlmIChkYXRhLnVybCkge1xyXG4gICAgICBvbkNoYW5nZShwcm9wZXJ0eS5uYW1lLCBkYXRhLnVybCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXY+XHJcbiAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIG9uQ2hhbmdlPXtoYW5kbGVVcGxvYWR9IC8+XHJcbiAgICAgIHtyZWNvcmQucGFyYW1zW3Byb3BlcnR5Lm5hbWVdICYmIChcclxuICAgICAgICA8aW1nIHNyYz17cmVjb3JkLnBhcmFtc1twcm9wZXJ0eS5uYW1lXX0gYWx0PVwi16rXpteV15LXlFwiIHdpZHRoPXsxMjB9IC8+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXBsb2FkSW1hZ2U7XHJcbiIsIkFkbWluSlMuVXNlckNvbXBvbmVudHMgPSB7fVxuaW1wb3J0IFVwbG9hZEltYWdlQ29tcG9uZW50IGZyb20gJy4uL2NvbXBvbmVudHMvVXBsb2FkSW1hZ2UnXG5BZG1pbkpTLlVzZXJDb21wb25lbnRzLlVwbG9hZEltYWdlQ29tcG9uZW50ID0gVXBsb2FkSW1hZ2VDb21wb25lbnQiXSwibmFtZXMiOlsiVXBsb2FkSW1hZ2UiLCJwcm9wcyIsInJlY29yZCIsIm9uQ2hhbmdlIiwicHJvcGVydHkiLCJoYW5kbGVVcGxvYWQiLCJldmVudCIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJkYXRhIiwianNvbiIsInVybCIsIm5hbWUiLCJSZWFjdCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwicGFyYW1zIiwic3JjIiwiYWx0Iiwid2lkdGgiLCJBZG1pbkpTIiwiVXNlckNvbXBvbmVudHMiLCJVcGxvYWRJbWFnZUNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztFQUdBLE1BQU1BLFdBQVcsR0FBSUMsS0FBSyxJQUFLO0lBQzdCLE1BQU07TUFBRUMsTUFBTTtNQUFFQyxRQUFRO0VBQUVDLElBQUFBO0VBQVMsR0FBQyxHQUFHSCxLQUFLO0VBRTVDLEVBQUEsTUFBTUksWUFBWSxHQUFHLE1BQU9DLEtBQUssSUFBSztNQUNwQyxNQUFNQyxJQUFJLEdBQUdELEtBQUssQ0FBQ0UsTUFBTSxDQUFDQyxLQUFLLENBQUMsQ0FBQyxDQUFDO01BQ2xDLElBQUksQ0FBQ0YsSUFBSSxFQUFFO0VBRVgsSUFBQSxNQUFNRyxRQUFRLEdBQUcsSUFBSUMsUUFBUSxFQUFFO0VBQy9CRCxJQUFBQSxRQUFRLENBQUNFLE1BQU0sQ0FBQyxPQUFPLEVBQUVMLElBQUksQ0FBQztFQUU5QixJQUFBLE1BQU1NLEdBQUcsR0FBRyxNQUFNQyxLQUFLLENBQUMscUJBQXFCLEVBQUU7RUFDN0NDLE1BQUFBLE1BQU0sRUFBRSxNQUFNO0VBQ2RDLE1BQUFBLElBQUksRUFBRU47RUFDUixLQUFDLENBQUM7RUFFRixJQUFBLE1BQU1PLElBQUksR0FBRyxNQUFNSixHQUFHLENBQUNLLElBQUksRUFBRTtNQUM3QixJQUFJRCxJQUFJLENBQUNFLEdBQUcsRUFBRTtRQUNaaEIsUUFBUSxDQUFDQyxRQUFRLENBQUNnQixJQUFJLEVBQUVILElBQUksQ0FBQ0UsR0FBRyxDQUFDO0VBQ25DO0tBQ0Q7RUFFRCxFQUFBLG9CQUNFRSxzQkFBQSxDQUFBQyxhQUFBLENBQ0VELEtBQUFBLEVBQUFBLElBQUFBLGVBQUFBLHNCQUFBLENBQUFDLGFBQUEsQ0FBQSxPQUFBLEVBQUE7RUFBT0MsSUFBQUEsSUFBSSxFQUFDLE1BQU07RUFBQ3BCLElBQUFBLFFBQVEsRUFBRUU7RUFBYSxHQUFFLENBQUMsRUFDNUNILE1BQU0sQ0FBQ3NCLE1BQU0sQ0FBQ3BCLFFBQVEsQ0FBQ2dCLElBQUksQ0FBQyxpQkFDM0JDLHNCQUFBLENBQUFDLGFBQUEsQ0FBQSxLQUFBLEVBQUE7TUFBS0csR0FBRyxFQUFFdkIsTUFBTSxDQUFDc0IsTUFBTSxDQUFDcEIsUUFBUSxDQUFDZ0IsSUFBSSxDQUFFO0VBQUNNLElBQUFBLEdBQUcsRUFBQyxnQ0FBTztFQUFDQyxJQUFBQSxLQUFLLEVBQUU7RUFBSSxHQUFFLENBRWhFLENBQUM7RUFFVixDQUFDOztFQ2hDREMsT0FBTyxDQUFDQyxjQUFjLEdBQUcsRUFBRTtFQUUzQkQsT0FBTyxDQUFDQyxjQUFjLENBQUNDLG9CQUFvQixHQUFHQSxXQUFvQjs7Ozs7OyJ9
